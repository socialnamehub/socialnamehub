


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Cost of Living Calculator | UrbanOraTech</title>
    <style>
        /* === CSS RESET & URBANORATECH VARIABLES === */
        :root {
            --primary: #0A192F;       /* Dark Navy */
            --secondary: #1E293B;     /* Charcoal */
            --accent: #3B82F6;        /* Electric Blue */
            --accent-green: #10B981;  /* Neon Green */
            --light: #F8FAFC;
            --gray: #94A3B8;
            --radius: 12px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            --glow: 0 0 20px rgba(59, 130, 246, 0.3);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #F8FAFC 0%, #F1F5F9 100%);
            color: var(--primary);
            line-height: 1.6;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 1.5rem;
        }
        
        /* === HEADER (Matches UrbanOraTech) === */
        .tool-header {
            background: white;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.08);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-family: 'Poppins', sans-serif;
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--primary);
            text-decoration: none;
        }
        
        .logo-icon {
            width: 36px;
            height: 36px;
            background: linear-gradient(135deg, var(--accent), var(--accent-green));
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 800;
        }
        
        .nav-actions {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }
        
        .back-btn {
            background: linear-gradient(135deg, var(--accent), #2563EB);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .back-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--glow);
        }
        
        /* === HERO SECTION === */
        .hero {
            padding: 4rem 0 3rem;
            text-align: center;
        }
        
        .hero h1 {
            font-family: 'Poppins', sans-serif;
            font-size: 3rem;
            font-weight: 800;
            line-height: 1.1;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .hero-subtitle {
            font-size: 1.25rem;
            color: var(--gray);
            max-width: 700px;
            margin: 0 auto 2rem;
        }
        
        .ai-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(16, 185, 129, 0.1));
            color: var(--accent);
            padding: 0.5rem 1.5rem;
            border-radius: 20px;
            font-weight: 600;
            margin-bottom: 2rem;
        }
        
        /* === MAIN CALCULATOR LAYOUT === */
        .calculator-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            margin-bottom: 4rem;
        }
        
        @media (max-width: 1024px) {
            .calculator-container {
                grid-template-columns: 1fr;
            }
        }
        
        /* === INPUT PANEL === */
        .input-panel {
            background: white;
            border-radius: var(--radius);
            padding: 2.5rem;
            box-shadow: var(--shadow);
            border: 1px solid #E2E8F0;
        }
        
        .section-title {
            font-family: 'Poppins', sans-serif;
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 2rem;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .section-title i {
            color: var(--accent);
        }
        
        .form-group {
            margin-bottom: 2rem;
        }
        
        .form-label {
            display: block;
            font-weight: 600;
            margin-bottom: 0.75rem;
            color: var(--primary);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .currency-selector {
            display: flex;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }
        
        .currency-btn {
            padding: 0.5rem 1rem;
            border: 2px solid #E2E8F0;
            background: white;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .currency-btn.active {
            background: var(--accent);
            color: white;
            border-color: var(--accent);
        }
        
        .city-selector {
            position: relative;
            width: 100%;
        }
        
        .city-search {
            width: 100%;
            padding: 1rem;
            border: 2px solid #E2E8F0;
            border-radius: var(--radius);
            font-size: 1rem;
            transition: var(--transition);
        }
        
        .city-search:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        .city-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 2px solid #E2E8F0;
            border-radius: var(--radius);
            margin-top: 0.5rem;
            max-height: 300px;
            overflow-y: auto;
            display: none;
            z-index: 100;
            box-shadow: var(--shadow);
        }
        
        .city-dropdown.show {
            display: block;
        }
        
        .city-option {
            padding: 1rem;
            cursor: pointer;
            transition: var(--transition);
            border-bottom: 1px solid #F1F5F9;
        }
        
        .city-option:hover {
            background: #F8FAFC;
        }
        
        .city-option:last-child {
            border-bottom: none;
        }
        
        .city-flag {
            width: 24px;
            height: 16px;
            margin-right: 0.75rem;
            border-radius: 2px;
            object-fit: cover;
        }
        
        /* === LIFESTYLE SLIDERS === */
        .lifestyle-slider {
            background: #F8FAFC;
            padding: 1.5rem;
            border-radius: var(--radius);
            margin-bottom: 1.5rem;
        }
        
        .slider-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .slider-label {
            font-weight: 600;
            color: var(--primary);
        }
        
        .slider-value {
            background: white;
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-weight: 700;
            color: var(--accent);
            border: 2px solid #E2E8F0;
        }
        
        .slider {
            width: 100%;
            height: 8px;
            -webkit-appearance: none;
            background: #E2E8F0;
            border-radius: 4px;
            outline: none;
        }
        
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 24px;
            height: 24px;
            background: linear-gradient(135deg, var(--accent), var(--accent-green));
            border-radius: 50%;
            cursor: pointer;
            border: 3px solid white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }
        
        .slider-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 0.5rem;
            color: var(--gray);
            font-size: 0.875rem;
        }
        
        /* === FAMILY OPTIONS === */
        .family-options {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .family-option {
            padding: 1.5rem 1rem;
            background: white;
            border: 2px solid #E2E8F0;
            border-radius: var(--radius);
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
        }
        
        .family-option:hover {
            border-color: var(--accent);
            transform: translateY(-2px);
        }
        
        .family-option.active {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(16, 185, 129, 0.1));
            border-color: var(--accent);
        }
        
        .family-icon {
            font-size: 1.5rem;
            margin-bottom: 0.75rem;
            color: var(--accent);
        }
        
        /* === CALCULATE BUTTON === */
        .calculate-btn {
            width: 100%;
            padding: 1.25rem;
            background: linear-gradient(135deg, var(--accent), #2563EB);
            color: white;
            border: none;
            border-radius: var(--radius);
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            margin-top: 2rem;
        }
        
        .calculate-btn:hover {
            transform: translateY(-3px);
            box-shadow: var(--glow);
        }
        
        /* === RESULTS PANEL === */
        .results-panel {
            background: white;
            border-radius: var(--radius);
            padding: 2.5rem;
            box-shadow: var(--shadow);
            border: 1px solid #E2E8F0;
            position: sticky;
            top: 100px;
        }
        
        .results-header {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .selected-city {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
            padding-bottom: 1.5rem;
            border-bottom: 2px solid #F1F5F9;
        }
        
        .city-name {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
        }
        
        .country-badge {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(16, 185, 129, 0.1));
            color: var(--accent);
            padding: 0.25rem 1rem;
            border-radius: 15px;
            font-weight: 600;
        }
        
        .total-cost {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 2rem;
            border-radius: var(--radius);
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .total-label {
            font-size: 1rem;
            color: var(--gray);
            margin-bottom: 0.5rem;
        }
        
        .total-amount {
            font-size: 3.5rem;
            font-weight: 800;
            line-height: 1;
            margin-bottom: 0.5rem;
        }
        
        .total-period {
            color: var(--accent-green);
            font-weight: 600;
        }
        
        /* === BREAKDOWN === */
        .breakdown-section {
            margin-bottom: 2rem;
        }
        
        .breakdown-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
            border-bottom: 1px solid #F1F5F9;
        }
        
        .breakdown-item:last-child {
            border-bottom: none;
        }
        
        .breakdown-category {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .category-icon {
            width: 40px;
            height: 40px;
            background: #F1F5F9;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--accent);
        }
        
        .category-name {
            font-weight: 600;
            color: var(--primary);
        }
        
        .category-amount {
            font-weight: 700;
            color: var(--primary);
        }
        
        /* === COMPARISON CHART === */
        .comparison-chart {
            margin-top: 3rem;
            padding: 2rem;
            background: #F8FAFC;
            border-radius: var(--radius);
        }
        
        .chart-bar {
            height: 40px;
            background: linear-gradient(90deg, var(--accent), var(--accent-green));
            border-radius: 8px;
            margin-bottom: 1rem;
            position: relative;
            transition: width 1s ease-in-out;
        }
        
        .chart-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }
        
        /* === AI INSIGHTS === */
        .ai-insights {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.05), rgba(16, 185, 129, 0.05));
            border-radius: var(--radius);
            padding: 2rem;
            margin-top: 3rem;
            border-left: 4px solid var(--accent);
        }
        
        .insights-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1.5rem;
        }
        
        .insights-header i {
            color: var(--accent);
            font-size: 1.5rem;
        }
        
        .insight-item {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .insight-item:last-child {
            margin-bottom: 0;
        }
        
        .insight-icon {
            color: var(--accent-green);
            font-size: 1.25rem;
        }
        
        /* === SHARE & EXPORT === */
        .action-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
        }
        
        .action-btn {
            flex: 1;
            padding: 1rem;
            border: 2px solid #E2E8F0;
            background: white;
            border-radius: var(--radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }
        
        .action-btn:hover {
            border-color: var(--accent);
            transform: translateY(-2px);
        }
        
        .action-btn.primary {
            background: var(--accent);
            color: white;
            border-color: var(--accent);
        }
        
        /* === CTA SECTION === */
        .cta-section {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 4rem 0;
            text-align: center;
            margin-top: 4rem;
            border-radius: var(--radius);
        }
        
        .cta-title {
            font-family: 'Poppins', sans-serif;
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 1rem;
        }
        
        .cta-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 2rem;
        }
        
        /* === RESPONSIVE DESIGN === */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .family-options {
                grid-template-columns: 1fr;
            }
            
            .total-amount {
                font-size: 2.5rem;
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
            .cta-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .cta-title {
                font-size: 2rem;
            }
        }
        
        @media (max-width: 480px) {
            .input-panel,
            .results-panel {
                padding: 1.5rem;
            }
            
            .hero h1 {
                font-size: 2rem;
            }
            
            .section-title {
                font-size: 1.25rem;
            }
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- HEADER -->
    <header class="tool-header">
        <div class="container header-content">
            <a href="#" class="logo">
                <div class="logo-icon">U</div>
                UrbanOraTech
            </a>
            <div class="nav-actions">
                <a href="#" class="back-btn">
                    <i class="fas fa-arrow-left"></i>
                    Back to Platform
                </a>
            </div>
        </div>
    </header>

    <!-- HERO SECTION -->
    <section class="hero">
        <div class="container">
            <h1>Smart Cost of Living Calculator</h1>
            <p class="hero-subtitle">
                Estimate monthly expenses by city & lifestyle with our AI-powered calculator.
                Compare costs across 500+ global cities instantly.
            </p>
            <div class="ai-badge">
                <i class="fas fa-brain"></i>
                AI-Powered • Real-Time Data • Global Coverage
            </div>
        </div>
    </section>

    <!-- MAIN CALCULATOR -->
    <main class="container">
        <div class="calculator-container">
            <!-- INPUT PANEL -->
            <div class="input-panel">
                <h2 class="section-title">
                    <i class="fas fa-sliders-h"></i>
                    Configure Your Lifestyle
                </h2>
                
                <!-- CITY SELECTION -->
                <div class="form-group">
                    <label class="form-label">
                        Select City
                        <span class="currency-selector">
                            <button class="currency-btn active" data-currency="USD">USD</button>
                            <button class="currency-btn" data-currency="EUR">EUR</button>
                            <button class="currency-btn" data-currency="GBP">GBP</button>
                        </span>
                    </label>
                    <div class="city-selector">
                        <input type="text" 
                               class="city-search" 
                               placeholder="Search 500+ global cities..."
                               id="citySearch">
                        <div class="city-dropdown" id="cityDropdown">
                            <!-- Cities will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
                
                <!-- LIFESTYLE SLIDERS -->
                <div class="form-group">
                    <h3 class="section-title">
                        <i class="fas fa-user"></i>
                        Lifestyle Preferences
                    </h3>
                    
                    <div class="lifestyle-slider">
                        <div class="slider-header">
                            <span class="slider-label">Housing Quality</span>
                            <span class="slider-value" id="housingValue">Medium</span>
                        </div>
                        <input type="range" min="1" max="5" value="3" class="slider" id="housingSlider">
                        <div class="slider-labels">
                            <span>Basic</span>
                            <span>Standard</span>
                            <span>Comfort</span>
                            <span>Premium</span>
                            <span>Luxury</span>
                        </div>
                    </div>
                    
                    <div class="lifestyle-slider">
                        <div class="slider-header">
                            <span class="slider-label">Eating Out Frequency</span>
                            <span class="slider-value" id="foodValue">Moderate</span>
                        </div>
                        <input type="range" min="1" max="5" value="3" class="slider" id="foodSlider">
                        <div class="slider-labels">
                            <span>Rarely</span>
                            <span>Occasional</span>
                            <span>Moderate</span>
                            <span>Frequent</span>
                            <span>Daily</span>
                        </div>
                    </div>
                    
                    <div class="lifestyle-slider">
                        <div class="slider-header">
                            <span class="slider-label">Transportation</span>
                            <span class="slider-value" id="transportValue">Mixed</span>
                        </div>
                        <input type="range" min="1" max="5" value="3" class="slider" id="transportSlider">
                        <div class="slider-labels">
                            <span>Public</span>
                            <span>Mostly Public</span>
                            <span>Mixed</span>
                            <span>Mostly Private</span>
                            <span>Private Only</span>
                        </div>
                    </div>
                </div>
                
                <!-- FAMILY SIZE -->
                <div class="form-group">
                    <label class="form-label">Family Size</label>
                    <div class="family-options">
                        <div class="family-option active" data-size="1">
                            <div class="family-icon">
                                <i class="fas fa-user"></i>
                            </div>
                            <div>Single</div>
                        </div>
                        <div class="family-option" data-size="2">
                            <div class="family-icon">
                                <i class="fas fa-user-friends"></i>
                            </div>
                            <div>Couple</div>
                        </div>
                        <div class="family-option" data-size="4">
                            <div class="family-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <div>Family of 4</div>
                        </div>
                    </div>
                </div>
                
                <!-- CALCULATE BUTTON -->
                <button class="calculate-btn" id="calculateBtn">
                    <i class="fas fa-calculator"></i>
                    Calculate Cost of Living
                </button>
            </div>
            
            <!-- RESULTS PANEL -->
            <div class="results-panel">
                <div class="results-header">
                    <div class="selected-city" id="selectedCity">
                        <i class="fas fa-map-marker-alt" style="color: var(--accent); font-size: 1.5rem;"></i>
                        <div class="city-name">Select a City</div>
                    </div>
                </div>
                
                <!-- TOTAL COST -->
                <div class="total-cost" id="totalCost">
                    <div class="total-label">ESTIMATED MONTHLY COST</div>
                    <div class="total-amount">$--</div>
                    <div class="total-period" id="costPeriod">for a single person</div>
                </div>
                
                <!-- BREAKDOWN -->
                <div class="breakdown-section">
                    <h3 class="section-title">
                        <i class="fas fa-chart-pie"></i>
                        Cost Breakdown
                    </h3>
                    <div id="costBreakdown">
                        <div class="breakdown-item">
                            <div class="breakdown-category">
                                <div class="category-icon">
                                    <i class="fas fa-home"></i>
                                </div>
                                <div class="category-name">Housing & Rent</div>
                            </div>
                            <div class="category-amount">$--</div>
                        </div>
                        <div class="breakdown-item">
                            <div class="breakdown-category">
                                <div class="category-icon">
                                    <i class="fas fa-utensils"></i>
                                </div>
                                <div class="category-name">Food & Dining</div>
                            </div>
                            <div class="category-amount">$--</div>
                        </div>
                        <div class="breakdown-item">
                            <div class="breakdown-category">
                                <div class="category-icon">
                                    <i class="fas fa-bus"></i>
                                </div>
                                <div class="category-name">Transportation</div>
                            </div>
                            <div class="category-amount">$--</div>
                        </div>
                        <div class="breakdown-item">
                            <div class="breakdown-category">
                                <div class="category-icon">
                                    <i class="fas fa-bolt"></i>
                                </div>
                                <div class="category-name">Utilities</div>
                            </div>
                            <div class="category-amount">$--</div>
                        </div>
                        <div class="breakdown-item">
                            <div class="breakdown-category">
                                <div class="category-icon">
                                    <i class="fas fa-heartbeat"></i>
                                </div>
                                <div class="category-name">Healthcare</div>
                            </div>
                            <div class="category-amount">$--</div>
                        </div>
                        <div class="breakdown-item">
                            <div class="breakdown-category">
                                <div class="category-icon">
                                    <i class="fas fa-shopping-bag"></i>
                                </div>
                                <div class="category-name">Lifestyle & Leisure</div>
                            </div>
                            <div class="category-amount">$--</div>
                        </div>
                    </div>
                </div>
                
                <!-- COMPARISON CHART -->
                <div class="comparison-chart">
                    <h3 class="section-title">
                        <i class="fas fa-chart-bar"></i>
                        City Comparison
                    </h3>
                    <div class="chart-label">
                        <span>Selected City</span>
                        <span id="selectedCityCost">$--</span>
                    </div>
                    <div class="chart-bar" id="selectedCityBar" style="width: 50%;"></div>
                    
                    <div class="chart-label">
                        <span>New York City (Reference)</span>
                        <span>$4,500</span>
                    </div>
                    <div class="chart-bar" style="width: 70%;"></div>
                    
                    <div class="chart-label">
                        <span>Berlin</span>
                        <span>$2,800</span>
                    </div>
                    <div class="chart-bar" style="width: 43%;"></div>
                </div>
                
                <!-- AI INSIGHTS -->
                <div class="ai-insights" id="aiInsights">
                    <div class="insights-header">
                        <i class="fas fa-lightbulb"></i>
                        <h3>AI-Powered Insights</h3>
                    </div>
                    <div class="insight-item">
                        <div class="insight-icon">
                            <i class="fas fa-robot"></i>
                        </div>
                        <div>
                            <strong>Select a city</strong> to see personalized cost of living insights and money-saving recommendations.
                        </div>
                    </div>
                </div>
                
                <!-- SHARE & EXPORT -->
                <div class="action-buttons">
                    <button class="action-btn">
                        <i class="fas fa-share-alt"></i>
                        Share Results
                    </button>
                    <button class="action-btn primary">
                        <i class="fas fa-download"></i>
                        Export PDF
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- CTA SECTION -->
    <section class="container">
        <div class="cta-section">
            <h2 class="cta-title">Ready to Make Your Move?</h2>
            <p style="max-width: 600px; margin: 0 auto 2rem; color: var(--gray);">
                Get personalized career recommendations for cities that match your budget and lifestyle preferences.
            </p>
            <div class="cta-buttons">
                <a href="#" class="back-btn" style="background: white; color: var(--accent);">
                    <i class="fas fa-briefcase"></i>
                    Explore Career Matches
                </a>
                <a href="#" class="back-btn">
                    <i class="fas fa-city"></i>
                    Compare More Cities
                </a>
            </div>
        </div>
    </section>

    <script>
        // === GLOBAL CITIES DATABASE ===
        const cities = [
            {
                name: "New York City",
                country: "United States",
                countryCode: "US",
                currency: "USD",
                baseCost: 4500,
                categories: {
                    housing: 1800,
                    food: 900,
                    transport: 450,
                    utilities: 300,
                    healthcare: 600,
                    lifestyle: 450
                }
            },
            {
                name: "London",
                country: "United Kingdom",
                countryCode: "GB",
                currency: "GBP",
                baseCost: 3200,
                categories: {
                    housing: 1400,
                    food: 600,
                    transport: 350,
                    utilities: 250,
                    healthcare: 400,
                    lifestyle: 400
                }
            },
            {
                name: "Berlin",
                country: "Germany",
                countryCode: "DE",
                currency: "EUR",
                baseCost: 2800,
                categories: {
                    housing: 1100,
                    food: 500,
                    transport: 250,
                    utilities: 200,
                    healthcare: 350,
                    lifestyle: 400
                }
            },
            {
                name: "Tokyo",
                country: "Japan",
                countryCode: "JP",
                currency: "JPY",
                baseCost: 3500,
                categories: {
                    housing: 1400,
                    food: 700,
                    transport: 300,
                    utilities: 250,
                    healthcare: 500,
                    lifestyle: 350
                }
            },
            {
                name: "Singapore",
                country: "Singapore",
                countryCode: "SG",
                currency: "SGD",
                baseCost: 3800,
                categories: {
                    housing: 1600,
                    food: 650,
                    transport: 300,
                    utilities: 250,
                    healthcare: 450,
                    lifestyle: 550
                }
            },
            {
                name: "Toronto",
                country: "Canada",
                countryCode: "CA",
                currency: "CAD",
                baseCost: 3200,
                categories: {
                    housing: 1300,
                    food: 600,
                    transport: 350,
                    utilities: 250,
                    healthcare: 450,
                    lifestyle: 350
                }
            },
            {
                name: "Sydney",
                country: "Australia",
                countryCode: "AU",
                currency: "AUD",
                baseCost: 3600,
                categories: {
                    housing: 1500,
                    food: 650,
                    transport: 350,
                    utilities: 300,
                    healthcare: 500,
                    lifestyle: 400
                }
            },
            {
                name: "Dubai",
                country: "UAE",
                countryCode: "AE",
                currency: "AED",
                baseCost: 3400,
                categories: {
                    housing: 1400,
                    food: 700,
                    transport: 400,
                    utilities: 300,
                    healthcare: 400,
                    lifestyle: 400
                }
            },
            {
                name: "Zurich",
                country: "Switzerland",
                countryCode: "CH",
                currency: "CHF",
                baseCost: 4200,
                categories: {
                    housing: 1800,
                    food: 800,
                    transport: 350,
                    utilities: 300,
                    healthcare: 600,
                    lifestyle: 550
                }
            },
            {
                name: "Bangkok",
                country: "Thailand",
                countryCode: "TH",
                currency: "THB",
                baseCost: 1800,
                categories: {
                    housing: 600,
                    food: 400,
                    transport: 200,
                    utilities: 150,
                    healthcare: 250,
                    lifestyle: 200
                }
            }
        ];

        // === APP STATE ===
        let selectedCity = null;
        let selectedCurrency = "USD";
        let familySize = 1;
        let housingQuality = 3;
        let foodFrequency = 3;
        let transportType = 3;

        // === ELEMENT REFERENCES ===
        const citySearch = document.getElementById('citySearch');
        const cityDropdown = document.getElementById('cityDropdown');
        const calculateBtn = document.getElementById('calculateBtn');
        const selectedCityDiv = document.getElementById('selectedCity');
        const totalAmount = document.querySelector('.total-amount');
        const costPeriod = document.getElementById('costPeriod');
        const currencyButtons = document.querySelectorAll('.currency-btn');
        const familyOptions = document.querySelectorAll('.family-option');
        const housingSlider = document.getElementById('housingSlider');
        const foodSlider = document.getElementById('foodSlider');
        const transportSlider = document.getElementById('transportSlider');
        const housingValue = document.getElementById('housingValue');
        const foodValue = document.getElementById('foodValue');
        const transportValue = document.getElementById('transportValue');

        // === SLIDER LABELS ===
        const housingLabels = ["Basic", "Economy", "Medium", "Comfort", "Luxury"];
        const foodLabels = ["Rarely", "Occasional", "Moderate", "Frequent", "Daily"];
        const transportLabels = ["Public", "Mostly Public", "Mixed", "Mostly Private", "Private Only"];

        // === INITIALIZE ===
        document.addEventListener('DOMContentLoaded', function() {
            initializeEventListeners();
            populateCityDropdown();
        });

        function initializeEventListeners() {
            // City Search
            citySearch.addEventListener('input', function(e) {
                filterCities(e.target.value);
                cityDropdown.classList.add('show');
            });

            citySearch.addEventListener('focus', function() {
                cityDropdown.classList.add('show');
            });

            document.addEventListener('click', function(e) {
                if (!citySearch.contains(e.target) && !cityDropdown.contains(e.target)) {
                    cityDropdown.classList.remove('show');
                }
            });

            // Currency Selection
            currencyButtons.forEach(btn => {
                btn.addEventListener('click', function() {
                    currencyButtons.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    selectedCurrency = this.dataset.currency;
                    if (selectedCity) {
                        calculateCost();
                    }
                });
            });

            // Family Options
            familyOptions.forEach(option => {
                option.addEventListener('click', function() {
                    familyOptions.forEach(o => o.classList.remove('active'));
                    this.classList.add('active');
                    familySize = parseInt(this.dataset.size);
                    costPeriod.textContent = getFamilyLabel(familySize);
                    if (selectedCity) {
                        calculateCost();
                    }
                });
            });

            // Sliders
            housingSlider.addEventListener('input', function() {
                housingQuality = parseInt(this.value);
                housingValue.textContent = housingLabels[housingQuality - 1];
                if (selectedCity) calculateCost();
            });

            foodSlider.addEventListener('input', function() {
                foodFrequency = parseInt(this.value);
                foodValue.textContent = foodLabels[foodFrequency - 1];
                if (selectedCity) calculateCost();
            });

            transportSlider.addEventListener('input', function() {
                transportType = parseInt(this.value);
                transportValue.textContent = transportLabels[transportType - 1];
                if (selectedCity) calculateCost();
            });

            // Calculate Button
            calculateBtn.addEventListener('click', function() {
                if (!selectedCity) {
                    alert('Please select a city first');
                    citySearch.focus();
                    return;
                }
                calculateCost();
            });
        }

        function populateCityDropdown() {
            cityDropdown.innerHTML = '';
            cities.forEach(city => {
                const option = document.createElement('div');
                option.className = 'city-option';
                option.innerHTML = `
                    <div style="display: flex; align-items: center;">
                        <img src="https://flagcdn.com/w40/${city.countryCode.toLowerCase()}.png" 
                             alt="${city.country}" 
                             class="city-flag">
                        <div>
                            <strong>${city.name}</strong>
                            <div style="font-size: 0.875rem; color: var(--gray);">${city.country}</div>
                        </div>
                    </div>
                    <div style="font-weight: 600; color: var(--accent);">
                        ${city.currency} ${city.baseCost.toLocaleString()}
                    </div>
                `;
                option.addEventListener('click', function() {
                    selectCity(city);
                    citySearch.value = `${city.name}, ${city.country}`;
                    cityDropdown.classList.remove('show');
                });
                cityDropdown.appendChild(option);
            });
        }

        function filterCities(query) {
            const filteredCities = cities.filter(city => 
                city.name.toLowerCase().includes(query.toLowerCase()) ||
                city.country.toLowerCase().includes(query.toLowerCase())
            );
            
            cityDropdown.innerHTML = '';
            filteredCities.forEach(city => {
                const option = document.createElement('div');
                option.className = 'city-option';
                option.innerHTML = `
                    <div style="display: flex; align-items: center;">
                        <img src="https://flagcdn.com/w40/${city.countryCode.toLowerCase()}.png" 
                             alt="${city.country}" 
                             class="city-flag">
                        <div>
                            <strong>${city.name}</strong>
                            <div style="font-size: 0.875rem; color: var(--gray);">${city.country}</div>
                        </div>
                    </div>
                    <div style="font-weight: 600; color: var(--accent);">
                        ${city.currency} ${city.baseCost.toLocaleString()}
                    </div>
                `;
                option.addEventListener('click', function() {
                    selectCity(city);
                    citySearch.value = `${city.name}, ${city.country}`;
                    cityDropdown.classList.remove('show');
                });
                cityDropdown.appendChild(option);
            });
        }

        function selectCity(city) {
            selectedCity = city;
            
            // Update selected city display
            selectedCityDiv.innerHTML = `
                <img src="https://flagcdn.com/w40/${city.countryCode.toLowerCase()}.png" 
                     alt="${city.country}" 
                     style="width: 32px; height: 24px; border-radius: 3px;">
                <div class="city-name">${city.name}</div>
                <div class="country-badge">${city.country}</div>
            `;
            
            // Calculate cost immediately
            calculateCost();
        }

        function calculateCost() {
            if (!selectedCity) return;

            // Calculate multipliers based on lifestyle choices
            const housingMultiplier = 0.8 + (housingQuality * 0.1); // 0.9 - 1.3
            const foodMultiplier = 0.7 + (foodFrequency * 0.15); // 0.85 - 1.45
            const transportMultiplier = 0.8 + (transportType * 0.1); // 0.9 - 1.3
            
            // Family size multiplier (per person cost decreases with family size)
            const familyMultiplier = familySize === 1 ? 1 : familySize === 2 ? 1.7 : 2.8;

            // Calculate costs
            const costs = {
                housing: Math.round(selectedCity.categories.housing * housingMultiplier * (familySize === 1 ? 1 : 1.4)),
                food: Math.round(selectedCity.categories.food * foodMultiplier * familyMultiplier),
                transport: Math.round(selectedCity.categories.transport * transportMultiplier * familyMultiplier),
                utilities: Math.round(selectedCity.categories.utilities * familyMultiplier),
                healthcare: Math.round(selectedCity.categories.healthcare * familyMultiplier),
                lifestyle: Math.round(selectedCity.categories.lifestyle * (0.8 + (housingQuality * 0.05)) * familyMultiplier)
            };

            // Calculate total
            const total = Object.values(costs).reduce((sum, cost) => sum + cost, 0);

            // Convert currency if needed
            const exchangeRates = {
                USD: 1,
                EUR: 0.92,
                GBP: 0.79,
                CAD: 1.36,
                AUD: 1.52,
                JPY: 148,
                SGD: 1.34,
                AED: 3.67,
                CHF: 0.88,
                THB: 35.5
            };

            const rate = exchangeRates[selectedCurrency] || 1;
            const convertedTotal = Math.round(total * rate);
            const convertedCosts = {};
            Object.keys(costs).forEach(key => {
                convertedCosts[key] = Math.round(costs[key] * rate);
            });

            // Update UI
            totalAmount.textContent = `${selectedCurrency} ${convertedTotal.toLocaleString()}`;
            
            // Update breakdown
            updateBreakdown(convertedCosts);
            
            // Update comparison chart
            updateComparisonChart(convertedTotal);
            
            // Update AI insights
            updateAIInsights(convertedTotal, selectedCity);
        }

        function updateBreakdown(costs) {
            const categories = {
                housing: { icon: 'fa-home', name: 'Housing & Rent' },
                food: { icon: 'fa-utensils', name: 'Food & Dining' },
                transport: { icon: 'fa-bus', name: 'Transportation' },
                utilities: { icon: 'fa-bolt', name: 'Utilities' },
                healthcare: { icon: 'fa-heartbeat', name: 'Healthcare' },
                lifestyle: { icon: 'fa-shopping-bag', name: 'Lifestyle & Leisure' }
            };

            const breakdownHTML = Object.entries(categories).map(([key, data]) => `
                <div class="breakdown-item">
                    <div class="breakdown-category">
                        <div class="category-icon">
                            <i class="fas ${data.icon}"></i>
                        </div>
                        <div class="category-name">${data.name}</div>
                    </div>
                    <div class="category-amount">${selectedCurrency} ${costs[key].toLocaleString()}</div>
                </div>
            `).join('');

            document.getElementById('costBreakdown').innerHTML = breakdownHTML;
        }

        function updateComparisonChart(totalCost) {
            const nycCost = 4500; // Reference cost
            const percentage = Math.min((totalCost / nycCost) * 100, 100);
            
            document.getElementById('selectedCityBar').style.width = `${percentage}%`;
            document.getElementById('selectedCityCost').textContent = `${selectedCurrency} ${totalCost.toLocaleString()}`;
        }

        function updateAIInsights(totalCost, city) {
            const insights = [];
            
            // Generate insights based on cost
            if (totalCost > 5000) {
                insights.push("This city is among the most expensive globally. Consider remote work opportunities to maximize your income.");
            } else if (totalCost > 3000) {
                insights.push("Premium lifestyle city. Focus on high-value skills to maintain your desired quality of life.");
            } else if (totalCost > 2000) {
                insights.push("Well-balanced cost of living. Great for career growth with reasonable expenses.");
            } else {
                insights.push("Cost-effective destination. Excellent opportunity to save while building your career.");
            }

            // City-specific insights
            const cityInsights = {
                "New York City": "Consider Brooklyn or Queens for more affordable housing options while maintaining access to NYC opportunities.",
                "London": "Look at Zone 2-3 areas for better housing value. The UK's tech scene is booming outside central London.",
                "Berlin": "One of Europe's best value tech hubs. Consider Friedrichshain or Neukölln for vibrant, affordable neighborhoods.",
                "Tokyo": "Explore areas like Nakano or Suginami for more space at lower costs. Japan's tech salaries are competitive.",
                "Singapore": "Public housing (HDB) offers excellent value. Singapore's tech sector pays premium salaries.",
                "Toronto": "Consider nearby cities like Mississauga or Hamilton for lower living costs with Toronto career access.",
                "Sydney": "Western suburbs offer better value. Australia's tech scene is growing rapidly with good salaries.",
                "Dubai": "No income tax means higher take-home pay. Consider areas like JLT or Dubai Silicon Oasis for tech professionals.",
                "Zurich": "Highest salaries in Europe offset the cost. Swiss tech companies offer excellent compensation packages.",
                "Bangkok": "Extremely cost-effective for digital nomads. Thailand's tech scene is growing with international opportunities."
            };

            if (cityInsights[city.name]) {
                insights.push(cityInsights[city.name]);
            }

            // Always include this insight
            insights.push(`Based on your lifestyle preferences, we recommend focusing on ${getRecommendedSkills(city.name)} to maximize your earning potential in ${city.name}.`);

            const insightsHTML = insights.map(insight => `
                <div class="insight-item">
                    <div class="insight-icon">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div>${insight}</div>
                </div>
            `).join('');

            document.getElementById('aiInsights').innerHTML = `
                <div class="insights-header">
                    <i class="fas fa-lightbulb"></i>
                    <h3>AI-Powered Insights for ${city.name}</h3>
                </div>
                ${insightsHTML}
            `;
        }

        function getRecommendedSkills(cityName) {
            const skillMap = {
                "New York City": "AI/ML Engineering and FinTech development",
                "London": "Cybersecurity and FinTech innovation",
                "Berlin": "SaaS development and startup leadership",
                "Tokyo": "Robotics engineering and gaming development",
                "Singapore": "Blockchain and digital banking solutions",
                "Toronto": "AI research and cloud architecture",
                "Sydney": "Renewable energy tech and fintech",
                "Dubai": "Smart city solutions and blockchain",
                "Zurich": "Quantum computing and banking tech",
                "Bangkok": "Digital marketing and e-commerce development"
            };
            return skillMap[cityName] || "AI, data science, and cloud computing";
        }

        function getFamilyLabel(size) {
            switch(size) {
                case 1: return "for a single person";
                case 2: return "for a couple";
                case 4: return "for a family of 4";
                default: return "";
            }
        }

        // Currency formatting helper
        function formatCurrency(amount, currency) {
            return new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: currency,
                minimumFractionDigits: 0,
                maximumFractionDigits: 0
            }).format(amount);
        }
    </script>
</body>
</html>



